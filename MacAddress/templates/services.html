{% extends "base.html" %}

{% block body %}



<div class="card card-primary " style="max-width: 80rem;">
    <div class="card-header text-center">
        <div class="row">
            <div class="col">
              <h4>Admin Cluster Dashboard</h4>
            </div>
        </div>
    </div>

    <div class="card-block">
        {%block nav_tabs%}
            {{ super() }}
        {%endblock%}
    <div class="table-responsive table-hover">
    <br>
    <table class="table">
        <thead>
        <tr>
            <th>Name</th>
            <th>Cluster IP</th>
            <!--<th>External Traffic Policy</th>-->
            <th>Node Port</th>
            <th>Port</th>
            <th>Protocol</th>
            <th>Target Port</th>


            <th>Type</th>
            <th>Age</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {% for x in data %}
        {% if x['Name'] != "kubernetes"%}
        <tr>
            <td>{{x['Name']}}</td>
            <td>{{x['Info']['clusterIP']}}</td>
            <!--<td>{{x['Info']['externalTrafficPolicy']}}</td>-->
            {% for ports in x['Info']['ports'] %}
            <td>{{ ports['nodePort']}}</td>
            <td>{{ ports['port']}}</td>
            <td>{{ ports['protocol']}}</td>
            <td>{{ ports['targetPort']}}</td>
            {% endfor %}
            <td>{{x['Info']['type']}}</td>
            <td>{{x['Age']}}</td>
            <td>
                <button onclick="delete_service('{{x['Name']}}')" class="btn btn-danger btn-xs" data-toggle="modal"
                   data-target="#confirmModal">
                    <span class="fa fa-trash-o"></span>
                    Delete
                </button>
            </td>
        </tr>
        {% endif %}
        {% endfor %}
        </tbody>
    </table>
    </div>
    </div>
</div>
<script>
        $("#register").hide();
        $("#login").hide();
        $("#servicesNavLink").addClass("active");
</script>
{% endblock %}