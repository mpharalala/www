{% extends "base.html" %}

{% block body %}



<div class="card card-primary " style="max-width: 80rem;">
    <div class="card-header text-center">
        <div class="row">
            <div class="col">
              <h4>Admin Cluster Dashboard</h4>
            </div>
        </div>
    </div>

    <div class="card-block">
        {%block nav_tabs%}
            {{ super() }}
        {%endblock%}
    <div class="table-responsive table-hover">
    <br>
    <table class="table">
        <thead>
        <tr>
            <th>Name</th>
            <th>Node</th>
            <th>Container Image</th>
            <th>Container Name</th>
            <th>Container Port</th>
            <th>Protocol</th>
            <th>Age</th>
            <th>Activity</th>
            <th>Status</th>
        </tr>
        </thead>
        <tbody>
        {% for x in data %}
        <tr>
            <td>{{x['Name']}}</td>
            <td>{{x['Node']}}</td>
            {% for y in x['Info'] %}
                <td>{{y['Container image']}}</td>
                <td>{{y['Container name']}}</td>
                {% for z in y['Ports'] %}
                    <td>{{z['containerPort']}}</td>
                    <td>{{z['protocol']}}</td>
                {% endfor %}
            {% endfor %}
            <td>{{x['Age']}}</td>
            <td class="text-center">
            {% if x['Status'] == "Running" %}
                 <label class="">
                    <span style="color:green" class="fa fa-check-circle fa-2x"></span>
                </label>
                {% else %}
                    {% if x['Status'] == "Pending" %}
                        <label class="">
                            <span style="color:orange" class="fa fa-spinner fa-2x"></span>
                        </label>
                    {% else %}
                        <label class="">
                            <span style="color:red" class="fa fa-times-circle fa-2x"></span>
                        </label>
                    {% endif %}
            {% endif %}
            </td>
            <td>
            <span>
                {% if x['Status'] == "Running" %}
                    Ready
                {% else %}
                    {% if x['Status'] == "Pending" %}
                        Pending
                    {% else %}
                        Dead
                    {% endif %}
                {% endif %}
            </span>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
    </div>
</div>
<script>
        $("#register").hide();
        $("#login").hide();
        $("#podsNavLink").addClass("active");
</script>
{% endblock %}